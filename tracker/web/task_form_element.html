<polymer-element name="task-form-element" attributes="task-form">
  <template>
    <style>
      .field {
        margin-bottom: 1.5em;
      }

      .field textarea {
        width: 85%;
        padding: .5em;
      }

      .field .chars-left {
        margin-left: 1%;
        width: 9%;
        text-align: left;
      }

      .delete-task {
        float:right;
        margin-right: 5px;
      }
    </style>
    <form on-submit="createOrUpdateTask">
      <template bind if ="{{taskForm.taskIsDeleteable}}">
        <div on-click="deleteTask" class="delete-task glyphicon glyphicon-remove"></div>
      </template>
      <div class="field">
        <textarea class="form-control" placeholder="Add title here" value="{{taskForm.title}}"
            on-keyup="validateTitle"></textarea>
        <span class="chars-left">{{maxTitleLength - taskForm.title.length}}</span>
        <template bind if="{{!titleErrorMessage.isEmpty}}">
          <div class="error">{{titleErrorMessage}}</div>
        </template>
      </div>

      <div class="field">
        <textarea rows="5" class="form-control" placeholder="Add description here" value="{{taskForm.description}}"
            on-keyup="validateDescription"></textarea>
        <span class="chars-left">{{maxDescriptionLength - taskForm.description.length}}</span>
        <template bind if="{{!descriptionErrorMessage.isEmpty}}">
          <div class="error">{{descriptionErrorMessage}}</div>
        </template>
      </div>

      <div class="field">
        <button type="submit" class="btn btn-default">{{taskForm.submitLabel}}</button>&nbsp;
        <button type="button" on-click='toggleInUseStatus' class="btn btn-link">Cancel</button>
      </div>
    </form>
  </template>
  <script type="application/dart" src="task_form_element.dart"></script>
</polymer-element>
