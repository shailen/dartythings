<!DOCTYPE html>
<link rel="import" href="task_list_element.html">
<link rel="import" href="task_form_element.html">
<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
<polymer-element name="tracker-app">
  <template>
    <style>
      .error {
        color: red;
      }

      .success {
        color: green;
      }

      #new-task-button, #search-input {
         margin-top: 20px;
      }

      .moved {
        background-color: orange;
        color: white;
      }
    </style>

    <div class="row">
      <div class="col-md-8">
        <h1>Task Tracker</h1>
      </div>
      <div class="col-md-2">
        <template bind if="{{!creatingNewTask}}">
          <button id="new-task-button" on-click='toggleNewTaskFormDisplay' type="button"
              class="btn btn-primary">Add task</button>
        </template>
      </div>
      <div class="col-md-2">
        <template bind if="{{!creatingNewTask}}">
          <input type='text' id="search-input" class="form-control"
              on-keyup="search" value="{{searchParam}}" placeholder="Search">
        </template>
      </div>
    </div>

    <div class="row">
      <div class="error col-md-12">
        {{app.errorNotification}}
      </div>
    </div>

    <div class="row">
      <div class="success col-md-12">
        {{app.successNotification}}
      </div>
    </div>

    <div class="row">
      <div class="list-container col-md-4">
        <template if="{{creatingNewTask}}">
          <div on-closeform="toggleNewFormDisplay">
            <div class="element-container"><task-form-element task="{{task}}" on-notneeded="toggleNewTaskFormDisplay"></task-form-element></div>
          </div>
        </template>

        <h2>Current</h2>
        <ul is="task-list-element" tasks="{{app.currentTasks}}"></ul>
      </div>

      <div class="list-container col-md-4">
        <h2>Pending</h2>
        <ul is="task-list-element" tasks="{{app.pendingTasks}}"></ul>
      </div>

      <div class="list-container col-md-4">
        <h2>Completed</h2>
        <ul is="task-list-element" tasks="{{app.completedTasks}}"></ul>
      </div>
    </div>
  </template>
  <script type="application/dart" src="tracker_app.dart"></script>
</polymer-element>